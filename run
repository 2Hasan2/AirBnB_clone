
run() {
    # Usage message
    usage() {
        echo "Usage: run <file>"
    }

    # Check if file argument is provided
    if [ $# -ne 1 ]; then
        usage
        return 1
    fi
    
    # File to run
    file="$1"

    # Check if the file exists
    if [ ! -f "$file" ]; then
        echo "Error: $file does not exist." >&2
        return 1
    fi

    chmod +x "$file"

    #Check if inotifywait is installed
    if ! command -v inotifywait &> /dev/null; then
        echo "Error: inotifywait is not installed. Please install inotify-tools" >&2
        return 1
    fi 


    # Change the title of the terminal
    echo -ne "\033]0;Watching $file\007"

    # run it for the first time
    clear
    ./"$file"

    # Monitor for changes in the file
    while inotifywait -q -e close_write "$file"; do
        # Clear the terminal
        clear

        # Run the file
        ./"$file"
    done
}
